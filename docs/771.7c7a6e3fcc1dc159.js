"use strict";(self.webpackChunkakllasumaq=self.webpackChunkakllasumaq||[]).push([[771],{8771:(P,a,n)=>{n.r(a),n.d(a,{ProductsModule:()=>y});var r=n(6814),l=n(8645),p=n(9773),t=n(4946),g=n(3197),m=n(2239),u=n(4670),s=n(95);function v(e,d){if(1&e&&(t.TgZ(0,"div",3)(1,"div",4),t._UZ(2,"img",5),t.TgZ(3,"div",6)(4,"h5",7),t._uU(5),t.qZA(),t.TgZ(6,"p",8),t._uU(7),t.qZA(),t.TgZ(8,"button",9),t._uU(9,"Ver m\xe1s"),t.qZA(),t.TgZ(10,"button",10),t._uU(11,"Add to Cart"),t.qZA()()()()),2&e){const o=d.$implicit;t.xp6(2),t.Q6J("routerLink","/products/"+o.id)("src",o.image,t.LSH),t.xp6(3),t.Oqu(o.name),t.xp6(2),t.Oqu(o.description),t.xp6(1),t.Q6J("routerLink","/products/"+o.id)}}function _(e,d){if(1&e&&(t.TgZ(0,"div",1),t.YNc(1,v,12,5,"div",2),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.products)}}let f=(()=>{class e{constructor(o){this.location=o,this.products=[]}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(r.Ye))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-list"]],inputs:{products:"products"},decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","product-card","bg-card"],["alt","Cosmetic Product",1,"card-img-top",3,"routerLink","src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","m-2",3,"routerLink"],["routerLink","/",1,"btn"]],template:function(i,c){1&i&&t.YNc(0,_,2,1,"div",0),2&i&&t.Q6J("ngIf",c.products)},dependencies:[r.sg,r.O5,u.rH]})}return e})();function Z(e,d){if(1&e){const o=t.EpF();t.TgZ(0,"li")(1,"input",11),t.NdJ("ngModelChange",function(c){const A=t.CHM(o).$implicit;return t.KtG(A.checked=c)})("change",function(){t.CHM(o);const c=t.oxw(2);return t.KtG(c.categoryFilter())}),t.qZA(),t._uU(2),t.qZA()}if(2&e){const o=d.$implicit;t.xp6(1),t.Q6J("ngModel",o.checked),t.xp6(1),t.hij("",o.name," ")}}function x(e,d){if(1&e&&(t.TgZ(0,"div",3)(1,"div",7)(2,"ul",9),t.YNc(3,Z,3,2,"li",10),t.qZA()()()),2&e){const o=t.oxw();t.xp6(3),t.Q6J("ngForOf",o.categories)}}function T(e,d){if(1&e){const o=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),t._UZ(4,"img",5),t.qZA(),t.TgZ(5,"div",4)(6,"div",3)(7,"div",6)(8,"h3",7),t._uU(9),t.qZA()(),t.TgZ(10,"div",8)(11,"p"),t._uU(12),t.qZA()(),t.TgZ(13,"div",8)(14,"div",3)(15,"div",9)(16,"label",10),t._uU(17,"Price"),t.qZA(),t.TgZ(18,"div",11),t._uU(19),t.ALo(20,"currency"),t.qZA()()()(),t.TgZ(21,"div",8)(22,"div",3)(23,"div",9)(24,"label",12),t._uU(25,"Quantity"),t.qZA(),t.TgZ(26,"input",13),t.NdJ("ngModelChange",function(c){t.CHM(o);const h=t.oxw();return t.KtG(h.quanity=c)}),t.qZA()()()(),t.TgZ(27,"div",14)(28,"button",15),t._uU(29,"Buy now"),t.qZA(),t.TgZ(30,"button",16),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.addToCart())}),t._uU(31,"Add to cart"),t.qZA()()()()()()()}if(2&e){const o=t.oxw();t.xp6(4),t.Q6J("src",o.product.image,t.LSH)("alt",o.product.name),t.xp6(5),t.Oqu(o.product.name),t.xp6(3),t.Oqu(o.product.description),t.xp6(7),t.Oqu(t.xi3(20,6,o.product.price,"PEN")),t.xp6(7),t.Q6J("ngModel",o.quanity)}}const b=[{path:"",component:(()=>{class e{constructor(o,i,c){this.categoriesSvc=o,this.productsSvc=i,this.activatedRoute=c,this.categories=[],this.products=[],this.endSubs$=new l.x}ngOnInit(){this.activatedRoute.params.subscribe(o=>{o.categoryid?this._getProducts([o.categoryid]):this._getProducts()}),this._getCategories()}_getCategories(){this.categoriesSvc.getCategories().pipe((0,p.R)(this.endSubs$)).subscribe(o=>{this.categories=o})}_getProducts(o){this.productsSvc.getProducts(o).pipe((0,p.R)(this.endSubs$)).subscribe(i=>{this.products=i})}categoryFilter(){const o=this.categories.filter(i=>i.checked).map(i=>i._id);this._getProducts(o)}ngOnDestroy(){this.endSubs$.next(),this.endSubs$.complete()}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(g.G),t.Y36(m.s),t.Y36(u.gz))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-products"]],decls:15,vars:2,consts:[[1,"section"],[1,"container"],[1,"text-center","section-title"],[1,"row"],[1,"col-md-3"],["class","row",4,"ngIf"],[1,"col-md-9"],[1,"col-md-12"],[3,"products"],[2,"list-style-type","none"],[4,"ngFor","ngForOf"],["type","checkbox",1,"me-2",3,"ngModel","ngModelChange","change"]],template:function(i,c){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h2",2),t._uU(3,"Nuestros productos"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"div")(7,"h4"),t._uU(8,"Categorias"),t.qZA(),t._UZ(9,"br"),t.YNc(10,x,4,1,"div",5),t.qZA()(),t.TgZ(11,"div",6)(12,"div",3)(13,"div",7),t._UZ(14,"app-product-list",8),t.qZA()()()()()()),2&i&&(t.xp6(10),t.Q6J("ngIf",c.categories),t.xp6(4),t.Q6J("products",c.products))},dependencies:[r.sg,r.O5,s.Wl,s.JJ,s.On,f]})}return e})()},{path:":productid",component:(()=>{class e{constructor(o,i){this.activatedRoute=o,this.productsSvc=i,this.endSubs$=new l.x}ngOnInit(){this.activatedRoute.params.subscribe(o=>{this.productid=o.productid}),this._getProduct(this.productid)}addToCart(){}_getProduct(o){this.productsSvc.getProduct(o).pipe((0,p.R)(this.endSubs$)).subscribe(i=>{this.product=i})}ngOnDestroy(){this.endSubs$.next(),this.endSubs$.complete()}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(u.gz),t.Y36(m.s))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-description"]],decls:1,vars:1,consts:[["class","section",4,"ngIf"],[1,"section"],[1,"container","bg-description"],[1,"row"],[1,"col-md-6"],[3,"src","alt"],[1,"col-md-12","pt-3","pb-3"],[1,"text-center"],[1,"col-md-12","p-3"],[1,"col-md-4"],["for","priceProduct",1,"form-label"],["id","priceProduct"],["for","productQuantity",1,"form-label"],["id","productQuantity","type","number","min","0","max","100",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"btn","me-2"],[1,"btn",3,"click"]],template:function(i,c){1&i&&t.YNc(0,T,32,9,"div",0),2&i&&t.Q6J("ngIf",c.product)},dependencies:[r.O5,s.Fj,s.wV,s.JJ,s.qQ,s.Fd,s.On,r.H9]})}return e})()}];let y=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#o=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({providers:[g.G],imports:[r.ez,u.Bz.forChild(b),s.u5]})}return e})()}}]);